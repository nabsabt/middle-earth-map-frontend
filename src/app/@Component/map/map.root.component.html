<div #map id="map" class="map-content"></div>

<navbar
  (selectedObjID)="selectGISFeature($event, false)"
  (layerToToggle)="toggleLayers($event)"
  (modalToggle)="toggleModal($event)"
></navbar>

<div class="control-panel">
  <div class="control-panel-group AI-chat">
    <button (click)="toggleModal('chat')" class="control-panel-button-pill-large">
      <img src="assets/icons/chat_black.svg" />
    </button>
  </div>
  <div class="control-panel-group metric">
    <button (click)="onChangeUnits()" class="control-panel-button">
      {{ units().toUpperCase() | translate }}
    </button>
  </div>

  <div class="control-panel-group map-controls">
    <!--Pitch setting-->
    <button (click)="onSetPitchToDefault()" class="control-panel-button-pill">
      <img
        src="assets/icons/compass_bw.svg"
        [ngStyle]="{ transform: `rotate(${bearInDegree()}deg)` }"
      />
    </button>
  </div>
</div>

<details-dialog [selectedObject]="selectedObject()" [unit]="units()"></details-dialog>

<modal [modalType]="modalToOpen()" (closeModal)="toggleModal(undefined)"></modal>

@if (isLoading().loading) {
  <loading [isInitialLoad]="isLoading().initial"></loading>
}
